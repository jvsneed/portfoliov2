---
interface Props {
    path: string;
}

const { path } = Astro.props;
const segments = path.split('/').filter(Boolean);
const breadcrumbs = segments.map((segment, index) => {
    const url = '/' + segments.slice(0, index + 1).join('/');
    return {
        text: segment.replace(/-/g, ' '),
        url
    };
});
---

<nav class="breadcrumbs" aria-label="Breadcrumb">
    {breadcrumbs.map((crumb, index) => (
        <>
            <span class="separator">/</span>
            <a href={crumb.url} class={index === breadcrumbs.length - 1 ? 'current' : ''}>
                {crumb.text}
            </a>
        </>
    ))}
</nav>

<style>
    .breadcrumbs {
        font-family: var(--font-mono);
        font-size: 0.875rem;
        color: var(--color-muted);
        margin-bottom: var(--space-md);
    }

    .breadcrumbs a {
        color: inherit;
        text-decoration: none;
        transition: color 0.3s ease;
    }

    .breadcrumbs a:hover {
        color: var(--color-accent);
    }

    .separator {
        margin: 0 0.5rem;
        color: var(--color-border);
    }

    .current {
        color: var(--color-accent);
        pointer-events: none;
    }
</style>
