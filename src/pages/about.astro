---
import Layout from '../layouts/Layout.astro';

const currentBook = {
    title: "Against Reduction: Designing a Human Future with Machines",
    image: "/images/current-book.png",
    link: "https://literal.club/book/noelani-arista-sasha-costanza-chock-vafa-ghazavi-suzanne-kite-against-reduction-yne8c"
};
---

<Layout>
    <div class="page-container">
        <header class="portfolio-header">
            <div class="header-content">
                <h1 class="section-title">About Johanna</h1>
            </div>
        </header>

        <div class="content-grid">
            <section class="intro-section">
                <div class="bio-content">
                    <p>
                        I've been working professionally building sites and products since 2012, but I have been designing and developing things for as long as I can remember. I love the process of creating, whether it's a website, a product, or a piece of art. My goal is to make the world a more beautiful and functional place.
                    </p>
                    <p>
                        I research and design with inclusivity at the core, drawing on years of experience leading teams and managing large-scale implementations. I've worked across research, design, and technology strategy to deliver solutions that work for everyone.
                    </p>

                    
                    <div class="philosophy-section">
                        <h2>My Approach</h2>
                        <div class="philosophy-list">
                            <div class="approach-item">
                                <span class="number">01</span>
                                <div class="approach-content">
                                    <h3>Inclusion as a standard</h3>
                                    <p>In my day-to-day interactions and work, I value the diversity, experience, and perspectives of others. I strive to set aside my ego in order to grow and improve.</p>
                                </div>
                            </div>
                            
                            <div class="approach-item">
                                <span class="number">02</span>
                                <div class="approach-content">
                                    <h3>Purpose driven work</h3>
                                    <p>I'm on a mission to do work that aligns with my values: benefits people and makes a meaningful positive impact.</p>
                                </div>
                            </div>
                            <div class="approach-item">
                                <span class="number">03</span>
                                <div class="approach-content">
                                    <h3>Embrace challenges with curiosity</h3>
                                    <p>I love a good puzzle! Which is why I enjoy problem solving and using research and iteration to drive growth and innovation.</p>
                                </div>
                            </div>
                            <div class="approach-item">
                                <span class="number">04</span>
                                <div class="approach-content">
                                    <h3>Simplify and iterate</h3>
                                    <p>Begin with straightforward solutions and refine through research and feedback. I keep things minimally flashy to focus time on making things functional.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <aside class="contact-area">
                    <div class="contact-links">
                        <h3>Contact</h3>
                        <a href="mailto:contact@johannasneed.com" class="contact-link">
                            <span class="link-label">Email</span>
                            <span class="link-text">contact@johannasneed.com</span>
                        </a>
                        <a href="https://linkedin.com/in/johannasneed" class="contact-link">
                            <span class="link-label">LinkedIn</span>
                            <span class="link-text">@johannasneed</span>
                        </a>

                    </div>
                    <div class="media">
                        <h3>Media</h3>
                        <div class="current-read">
                            {currentBook.link ? (
                                <a href={currentBook.link} 
                                   class="book"
                                   target="_blank"
                                   rel="noopener noreferrer">
                                    <div class="book-spine"></div>
                                    <div class="book-cover">
                                        <img 
                                            src={currentBook.image}
                                            alt={`Currently reading: ${currentBook.title}`}
                                        />
                                        <div class="book-shine"></div>
                                    </div>
                                    <div class="book-pages"></div>
                                </a>
                            ) : (
                                <div class="book">
                                    <div class="book-spine"></div>
                                    <div class="book-cover">
                                        <img 
                                            src={currentBook.image}
                                            alt={`Currently reading: ${currentBook.title}`}
                                        />
                                        <div class="book-shine"></div>
                                    </div>
                                    <div class="book-pages"></div>
                                </div>
                            )}
                        </div>






                        <div class="vinyl-player">

                            <div class="vinyl-disc">
                                <div class="vinyl-grooves"></div>
                                <div class="vinyl-label">
                                    <h4>Listening To</h4>
                                    <div class="song-info">
                                        <span id="song">Loading song...</span>
                                    </div>
                                    <small class="powered-by">via last.fm</small>
                                </div>
                            </div>
                            <script type="text/javascript">
                                // @ts-nocheck
                                let user = 'sjalssokande';
                                let url = 'https://lastfm-last-played.biancarosa.com.br/' + user + '/latest-song';
                                let song = document.querySelector('#song');
                                fetch(url)
                                    .then(function (response) {
                                        return response.json()
                                    }).then(function (json) {
                                        const songText = json['track']['name'] + ' by ' + json['track']['artist']['#text'];
                                        song.innerHTML = songText;
                                        song.setAttribute('data-content', songText);
                                    });
                            </script>
                        </div>

                        
                    </div>
                    
                </aside>
                
            </section>

           
        </div>
    </div>

</Layout>

<style>
    .about-container {
        padding-top: 8rem;
        max-width: var(--max-width);
        margin: 0 auto;
        padding-inline: var(--space-md);
    }


    .content-grid {
        display: grid;
        gap: var(--space-xl);
    }

    .intro-section {
        display: grid;
        grid-template-columns: 1.5fr 1fr;
        gap: var(--space-lg);
        align-items: start;
        margin: var(--space-md) 0;
    }
/* 
    .bio-content {
        padding-right: var(--space-xl);
        max-width: 65ch;
    } */

    .contact-area {
        background: var(--color-surface);
        border: 1px solid var(--color-border);
        border-radius: var(--curve-sm);
        padding: var(--space-lg);
    }
    .media h3,
    .contact-links h3 {
        font-family: var(--font-mono);
        font-size: 1rem;
        color: var(--color-accent);
        margin-bottom: 0;
    }

    .media h3{
        margin-top: var(--space-lg);
        margin:bottom: 0;
    }

    .contact-link {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
        padding: var(--space-xs) 0;
        text-decoration: none;
        border-bottom: 1px solid var(--color-border);
    }


    .link-label {
        font-family: var(--font-mono);
        font-size: 0.875rem;
        color: var (--color-muted);
    }

    .link-text {
        color: var(--color-fg);
        transition: color 0.3s var(--ease-out-spring);
    }

    .contact-link:hover .link-text {
        color: var(--color-accent);
    }

    .music-section {
        margin-top: var(--space-xl);
        padding-top: var(--space-lg);
        border-top: 1px solid var(--color-border);
    }

    .music-credit {
        color: var(--color-muted);
        margin-top: var(--space-xs);
    }

    .profile-image {
        width: 100%;
        aspect-ratio: 1;
        object-fit: cover;
        border-radius: var(--curve-sm);
    }

    .social-links {
        margin-top: var(--space-md);
        display: flex;
        gap: var(--space-sm);
    }

    .social-link {
        font-family: var(--font-mono);
        font-size: 0.875rem;
        color: var(--color-accent);
    }

    .philosophy-section {
        margin-top: var(--space-sm);
        padding-top: var(--space-sm);
        border-top: 1px solid var(--color-border);
        width: 100%;
    }
    .philosophy-section h2{
        font-size: 2rem;
        padding-top: var(--space-sm);
    }

    .philosophy-list {
        display: grid;
        gap: var(--space-sm);
        margin-top: var(--space-sm);
    }

    .approach-item {
        position: relative;
        padding-left: 4rem;
        transition: transform 0.3s var(--ease-out-spring);
    }

    .number {
        position: absolute;
        left: 0;
        top: 0.25rem;
        font-family: var(--font-mono);
        font-size: 1rem;
        color: var(--color-accent);
    }

    .approach-content h3 {
        font-size: 1.5rem;
        line-height: 1.1;
        margin: .5rem 0;
        font-family: var(--font-special);
        font-weight: normal;
    }
    /* .section-title {
        font-size: 1.5rem;
        font-family: var(--font-special);
        font-weight: bold;
    } */

    .approach-content p {
        max-width: 65ch;
        margin-top: 0;
    }

    .skills-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: var(--space-xl);
    }

    .skill-category h3 {
        font-family: var(--font-special);
        font-size: 1.5rem;
        margin-bottom: var(--space-md);
    }

    .skill-category ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .skill-category li {
        color: var(--color-muted);
        margin-bottom: var(--space-xs);
    }

    .timeline {
        display: grid;
        gap: var(--space-xl);
    }

    .timeline-item {
        display: grid;
        grid-template-columns: 200px 1fr;
        gap: var(--space-lg);
    }

    .period {
        font-family: var(--font-mono);
        font-size: 0.875rem;
        color: var (--color-accent);
    }

    @media (max-width: 768px) {
        .philosophy-grid {
            grid-template-columns: 1fr;
        }

        .philosophy-card {
            padding: var(--space-md);
        }

        .intro-section {
            grid-template-columns: 1fr;
        }

        .bio-content {
            padding-right: 0;
            order: 1;
        }

        .contact-area {
            order: 2;
        }

        .intro-section,
        .timeline-item {
            grid-template-columns: 1fr;
        }

    }

    .now-playing {
        margin: var(--space-xl) 0;
    }

    .vinyl-player {
        margin: var(--space-sm) 0;
        display: flex;
        justify-content: center;
        perspective: 1000px;
    }

    .vinyl-disc {
        width: 220px;
        height: 220px;
        background: #111;
        border-radius: 50%;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: rotate 20s linear infinite;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    }

    .vinyl-grooves {
        position: absolute;
        inset: 0;
        border-radius: 50%;
        background: repeating-radial-gradient(
            circle at center,
            #222 0,
            #222 1px,
            #111 1px,
            #111 3px
        );
    }

    .vinyl-grooves::after {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 50%;
        background: conic-gradient(
            from 0deg,
            transparent,
            rgba(255, 255, 255, 0.1) 20%,
            transparent 40%,
            rgba(255, 255, 255, 0.1) 60%,
            transparent 80%
        );
        animation: shine 4s linear infinite;
    }

    .vinyl-label {
        width: 140px;  // Increased from 100px
        height: 140px; // Increased from 100px
        background: var(--color-accent);
        border-radius: 50%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        /* padding: var(--space-md); */
        color: white;
        animation: counter-rotate 20s linear infinite;
    }

    .vinyl-label h4 {
        font-size: 0.9rem;  // Slightly larger
        margin: 0;
        font-family: var(--font-mono);
        opacity: 0.9;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        line-height: .5;
    }

    .song-info {
        width: 120px;  // Fixed width
        font-size: 0.85rem;  // Slightly larger
        text-align: center;
        position: relative;
        margin: 0.5rem 0;
        overflow: hidden;
    }

    .song-info span {
        display: inline-block;
        padding-right: 2rem; /* Add space between repetitions */
        animation: scroll-loop 30s linear infinite; /* Increased from 15s to 30s */
        white-space: nowrap;
    }

    .song-info span::after {
        content: attr(data-content);
        padding-left: 2rem; /* Match padding-right above */
    }

    @keyframes scroll-loop {
        0% {
            transform: translateX(0);
        }
        10% { /* Added pause at start */
            transform: translateX(0);
        }
        90% { /* Added pause at end */
            transform: translateX(-100%);
        }
        100% {
            transform: translateX(-100%);
        }
    }

    .powered-by {
        font-size: 0.6rem;
        opacity: 0.7;
        margin-top: 0.25rem;
    }

    .music-icon {
        color: white;
        opacity: 0.9;
        margin-bottom: 0.25rem;
    }

    @keyframes rotate {
        from { transform: rotateZ(0); }
        to { transform: rotateZ(360deg); }
    }

    @keyframes counter-rotate {
        from { transform: rotateZ(360deg); }
        to { transform: rotateZ(0); }
    }

    @keyframes shine {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }

    @media (prefers-reduced-motion: reduce) {
        .vinyl-disc, .vinyl-label {
            animation: none;
        }
    }

    .current-read {
        padding: var(--space-md) 0;
    }

    .current-read h4 {
        font-family: var(--font-mono);
        font-size: 0.9rem;
        color: var(--color-accent);
        margin-bottom: var(--space-lg);
    }

    .book {
        position: relative;
        width: 200px;
        height: 300px;
        margin: 0 auto;
        padding: 0;
        perspective: 2000px;
        display: block; /* For anchor tag */
        text-decoration: none; /* For anchor tag */
        cursor: pointer; /* Show pointer only when it's a link */
    }

    a.book::after {
        content: "â†—";
        position: absolute;
        top: -1.5rem;
        right: -1.5rem;
        color: var(--color-accent);
        font-size: 1.2rem;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    a.book:hover::after {
        opacity: 1;
    }

    .book-cover {
        position: absolute;
        width: 100%;
        height: 100%;
        transform-style: preserve-3d;
        background: var(--color-surface);
        border-radius: 4px;
        box-shadow: 
            -20px 20px 30px rgba(0, 0, 0, 0.2),
            -6px 6px 10px rgba(0, 0, 0, 0.1),
            inset -2px 0 5px rgba(0, 0, 0, 0.2);
    }

    .book-cover img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 4px 0 0 4px;
    }



</style>

<script>
    const cards = document.querySelectorAll('.philosophy-card');

    cards.forEach((card) => {
        const handleMouseMove = (event: Event) => {            if (!(event instanceof MouseEvent)) return;            if (!(event.currentTarget instanceof HTMLElement)) return;                        const element = event.currentTarget;            const rect = element.getBoundingClientRect();            const x = ((event.clientX - rect.left) / rect.width) * 100;            const y = ((event.clientY - rect.top) / rect.height) * 100;                        element.style.setProperty('--mouse-x', `${x}%`);            element.style.setProperty('--mouse-y', `${y}%`);
        };

        card.addEventListener('mousemove', handleMouseMove);
    });
</script>
